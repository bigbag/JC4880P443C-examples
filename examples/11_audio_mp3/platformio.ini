; PlatformIO Project Configuration
; Example 11: Audio MP3 Player for JC4880P443C (ESP32-P4)
;
; This example demonstrates MP3 audio playback from SD card
; using the ESP-IDF audio player component with LVGL UI.
;
; NOTE: This example requires:
; - SD card with MP3 files in /sdcard/music/ directory
; - Audio codec hardware connected (ES8311 or similar)

[platformio]
default_envs = esp32p4
; Use project-local directory for packages to avoid conflicts
packages_dir = .pio/packages

[env:esp32p4]
platform = https://github.com/pioarduino/platform-espressif32/releases/download/stable/platform-espressif32.zip
board = esp32-p4
framework = espidf

; Flash configuration (16MB)
board_build.flash_size = 16MB
board_upload.flash_size = 16MB
board_build.partitions = partitions.csv

; PSRAM configuration (32MB)
board_build.arduino.memory_type = qio_opi

; Build flags
build_flags =
    -I src
    -I include
    ; LVGL configuration
    -DLV_CONF_INCLUDE_SIMPLE=1
    -DLV_LVGL_H_INCLUDE_SIMPLE=1
    ; BSP LCD type for JC4880 (480x800)
    -DCONFIG_BSP_LCD_TYPE_1024_600=1
    ; Debug output
    -DCORE_DEBUG_LEVEL=3

; Monitor settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings
upload_speed = 921600

; Library dependencies
lib_deps =
    lvgl/lvgl @ ^9.2.0

; ESP-IDF specific settings
board_build.cmake_extra_args =
    -DSDKCONFIG_DEFAULTS=sdkconfig.defaults
